---
archivedreason: null
authors:
- title: Anthony Nguyen
  url: https://ssw.com.au/people/anthony-nguyen/
- title: William Liebenberg
  url: https://ssw.com.au/people/william-liebenberg/
- title: Matt Goldman
  url: https://ssw.com.au/people/matt-goldman
created: 2021-03-16 22:41:47+00:00
createdBy: Tiago Ara√∫jo [SSW]
createdByEmail: tiagov8@gmail.com
guid: b045ffb9-254e-49e0-a971-31a4f6eb4ae7
isArchived: false
lastUpdated: 2021-03-17 06:09:01+00:00
lastUpdatedBy: Brady Stroud [SSW]
lastUpdatedByEmail: bradystroud@ssw.com.au
redirects:
- use-automatic-key-management-with-duende-identityServer
seoDescription: Automatically manage keys and simplify IdentityServer configuration
  with out-of-the-box features in version 5.
title: Do you use Automatic Key management with Duende IdentityServer?
categories:
  - category: categories/infrastructure-and-networking/rules-to-better-security.mdx
type: rule
uri: use-automatic-key-management-with-duende-identityserver
---

<introEmbed
  body={<>
When using IdentityServer 5 (aka Duende IdentityServer), you don't need to use `UseDeveloperSigningCredentials()` anymore as it is now enabled by default.
  </>}
/>
```cs
services.AddIdentityServer()
    .AddInMemoryClients(new List<Client>())
    .AddInMemoryIdentityResources(new List<IdentityResource>())
    .AddInMemoryApiResources(new List<ApiResource>())
    .AddInMemoryApiScopes(new List<ApiScope>())
    .AddTestUsers(new List<TestUser>())
    .AddDeveloperSigningCredential();
```
<figureEmbed figureEmbed={ {
  preset: "badExample",
  figure: "Figure: Bad example - you don't need to use `.AddDevelopersSigningCredential()` anymore",
  shouldDisplay: true
} } />


When using version 5, instead of using `IdentityServer4.AccessTokenValidation()`, you should use the out of the box `AddAuthentication(("Bearer").AddJwtBearer("Bearer")` from .NET 5

```cs
services.AddAuthentication("Bearer")
    .AddIdentityServerAuthentication("Bearer", options =>
    {
        options.ApiName = "api1";
        options.Authority = "https://localhost:5000";
    });
```
<figureEmbed figureEmbed={ {
  preset: "badExample",
  figure: "Figure: Bad example - don't use `IdentityServer4.AccessTokenValidation` package as it is deprecated.",
  shouldDisplay: true
} } />


```cs
services.AddAuthentication("Bearer")
  .AddJwtBearer("Bearer", options =>
    {
      options.Audience = "api1";
      options.Authority = "https://localhost:5000";
    });
```
<figureEmbed figureEmbed={ {
  preset: "goodExample",
  figure: "Figure: Good example - use `AddJwtBearer(\"Bearer\")` instead",
  shouldDisplay: true
} } />
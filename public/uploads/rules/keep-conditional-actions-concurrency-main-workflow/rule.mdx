---
seoDescription: Maintain clarity and simplicity by centralizing conditional actions and concurrency controls in your main CI/CD workflow, ensuring streamlined and efficient pipeline management.
type: rule
title: Do you keep conditional actions and concurrency to the main workflow?
uri: keep-conditional-actions-concurrency-main-workflow
authors:
  - title: Warwick Leahy
    url: https://ssw.com.au/people/warwick-leahy/
created: 2023-10-26T22:59:31.000Z
guid: c725ced3-e675-40f7-b43d-d5db1501b844
lastUpdated: 2024-06-08T03:27:17.000Z
lastUpdatedBy: Brady Stroud [SSW]
lastUpdatedByEmail: bradystroud@ssw.com.au
createdBy: Warwick Leahy [SSW]
createdByEmail: 58454534+leahy268@users.noreply.github.com
isArchived: false
---

<introEmbed
  body={<>
When designing CI/CD workflows, it's essential to maintain clarity and simplicity. This ensures that your pipelines are easy to understand, modify, and troubleshoot.
  </>}
/>
Scattering conditional actions and concurrency controls across multiple sub-pipelines or jobs can lead to confusion. Tracking the flow becomes challenging, and potential bottlenecks or errors might be overlooked.
<imageEmbed
  alt="Image"
  size="large"
  showBorder={false}
  figureEmbed={ {
    preset: "badExample",
    figure: "Bad example - Conditionals and concurrency in main workflow",
    shouldDisplay: true
  } }
  src="/uploads/rules/keep-conditional-actions-concurrency-main-workflow/github-concurrency-main-pipeline.png"
/>

Adding further conditionals or concurrency controls to the workflows adds no value. The workflow still only runs in the "dev" environment and operates within its own concurrency group. However, when changes are made to the more visible workflow (CICD.yaml), it's less obvious that changes are needed in the called workflow.
<imageEmbed
  alt="Image"
  size="large"
  showBorder={false}
  figureEmbed={ {
    preset: "badExample",
    figure: "Bad example - Conditionals and concurrency in called workflow",
    shouldDisplay: true
  } }
  src="/uploads/rules/keep-conditional-actions-concurrency-main-workflow/github-concurrency-calledworkflow.png"
/>

Centralize all conditional actions and concurrency controls in the main pipeline. This approach provides a clear overview of the workflow, making it easier to manage and optimize the pipeline's performance.
<imageEmbed
  alt="Image"
  size="large"
  showBorder={false}
  figureEmbed={ {
    preset: "goodExample",
    figure: "Good example - Only the main workflow has conditional and concurrency",
    shouldDisplay: true
  } }
  src="/uploads/rules/keep-conditional-actions-concurrency-main-workflow/github-concurrency-main-pipeline.png"
/>
<imageEmbed
  alt="Image"
  size="large"
  showBorder={false}
  figureEmbed={ {
    preset: "goodExample",
    figure: "Good example - Called workflow doesn't contain conditionals or concurrency groups",
    shouldDisplay: true
  } }
  src="/uploads/rules/keep-conditional-actions-concurrency-main-workflow/github-concurrency-calledworkflow-good.png"
/>

Of course, there are occasional circumstances where a called workflow must contain a conditional. However, these instances should be limited and documented thoroughly to ensure clarity and maintainability.

By adhering to this rule, you ensure that your CI/CD workflows remain streamlined, efficient, and easy to manage.

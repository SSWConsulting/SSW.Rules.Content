---
seoDescription: Do you parameterize all input to your database? It's essential to safeguard against SQL injection attacks and improve query performance by reducing the number of query plans.
type: rule
archivedreason:
title: Do you parameterize all input to your database?
guid: 34c49f46-1057-42b1-8436-f8c0a05af103
uri: parameterize-all-input-to-your-database
created: 2020-03-18T23:01:48.000Z
authors:
  - title: Christian Morford-Waite
    url: https://ssw.com.au/people/christian-morford-waite
related: []
redirects:
  - do-you-parameterize-all-input-to-your-database
lastUpdated: 2025-07-31T00:46:18.000Z
lastUpdatedBy: Brady Stroud [SSW]
lastUpdatedByEmail: bradystroud@ssw.com.au
createdBy: ChristianMWaite
createdByEmail: ChristianMWaite@ssw.com.au
isArchived: false
---

<introEmbed
  body={<>
It is important to parameterize all input to your database and it’s easy to implement.
Doing so will also reduce a lot of headaches down the track.

![](/uploads/rules/parameterize-all-input-to-your-database/ParameterizeSqlInputsXKCD.png) **Figure: What can happen if you don’t parameterize your inputs
Source: [xkcd.com](https://xkcd.com/327/)
**
  </>}
/>
<figureEmbed figureEmbed={ {
  preset: "goodExample",
  figure: "Advantages",
  shouldDisplay: true
} } />


* Prevents SQL injection attacks
* Preserves types being sent to the database
* Increased performance by reducing the number of query plans
* Makes your code more readable

```sql
SELECT Id, CompanyName, ContactName, ContactTitle
FROM dbo.Customers
WHERE CompanyName = 'NorthWind';
```
<figureEmbed figureEmbed={ {
  preset: "badExample",
  figure: "Figure: Bad Example - Using a dynamic SQL query",
  shouldDisplay: true
} } />


```sql
SELECT Id, CompanyName, ContactName, ContactTitle
FROM dbo.Customers
WHERE CompanyName = @companyName;
```
<figureEmbed figureEmbed={ {
  preset: "goodExample",
  figure: "Figure: Good Example - Using a parameterized query",
  shouldDisplay: true
} } />


### Should I use Parameters.AddWithValue()?

Using Parameters.AddWithValue() can be a bit of a shortcut as you don’t need to specify a type. However shortcuts often have their dangers and this one certainly does.
For most cases [Parameters.AddWithValue()](https://docs.microsoft.com/en-us/dotnet/api/system.data.sqlclient.sqlparametercollection.addwithvalue?view=netframework-4.8&WT.mc_id=DP-MVP-33518) will guess correctly, but sometimes it doesn’t which can lead to the value being misinterpreted when sent to the database. This can be avoided using [Parameters.Add()](https://docs.microsoft.com/en-us/dotnet/api/system.data.sqlclient.sqlparametercollection.add?view=netframework-4.8&WT.mc_id=DP-MVP-33518) and specifying the [SqlDbType](https://docs.microsoft.com/en-us/dotnet/api/system.data.sqldbtype?view=netframework-4.8&WT.mc_id=DP-MVP-33518), this will ensure the data will reach the database in the correct form.
When using dates, strings, varchar and nvarchar it is strongly recommended to use **Parameters.Add()** as there is a possibility of **Parameters.AddWithValue()** to incorrectly guess the type.
Implementing parameterized queries using Parameters.Add()

```sql
cmd.Parameters.Add("@varcharValue", System.Data.SqlDbType.Varchar, 20).Value = “Text”;
```
<figureEmbed figureEmbed={ {
  preset: "goodExample",
  figure: "Figure: Good Example – Using VarChar SqlDbType and specifying a max of 20 characters (-1 for MAX)",
  shouldDisplay: true
} } />


```sql
cmd.Parameters.Add("@decimalValue", System.Data.SqlDbType.Decimal, 11, 4).Value = decimalValue;
```
<figureEmbed figureEmbed={ {
  preset: "goodExample",
  figure: "Figure: Good Example – Using decimal(11,4) SQL Parameter",
  shouldDisplay: true
} } />


```sql
cmd.Parameters.Add("@dateTimeValue", System.Data.SqlDbType.DateTime2).Value = DateTime.UtcNow;
```
<figureEmbed figureEmbed={ {
  preset: "goodExample",
  figure: "Figure: Good Example - C#, VB .NET SQL DateTime Parameter",
  shouldDisplay: true
} } />


```sql
$SqlCmd.Parameters.Add("@dateTimeValue", [System.Data.SqlDbType]::DateTime2).Value = $dateTime2Value
```
<figureEmbed figureEmbed={ {
  preset: "goodExample",
  figure: "Figure: Good Example - PowerShell SQL DateTime Parameter",
  shouldDisplay: true
} } />

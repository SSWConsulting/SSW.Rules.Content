---
archivedreason: null
authors:
- title: Adam Cogan
  url: https://ssw.com.au/people/adam-cogan
created: 2018-04-25 19:38:18+00:00
createdBy: Tiago Araujo
createdByEmail: TiagoAraujo@ssw.com.au
guid: d65b2247-f519-4257-b304-bb81be2581d6
isArchived: false
lastUpdated: 2018-04-25 19:41:18+00:00
lastUpdatedBy: Tiago Araujo
lastUpdatedByEmail: TiagoAraujo@ssw.com.au
redirects:
- do-you-avoid-validating-xml-documents-unnecessarily
seoDescription: Validate XML documents unnecessarily and improve performance by using
  XmlTextReader instead of XmlValidatingReader.
title: Do you avoid validating XML documents unnecessarily?
type: rule
uri: avoid-validating-xml-documents-unnecessarily
---

<introEmbed
  body={<>
Validating an XML document against a schema is expensive, and should not be done where it is not absolutely necessary. Combined with weight the XML document object, validation can cause a significant performance hit:

* Read with XmlValidatingReader: 172203 nodes - 812 ms
* Read with XmlTextReader: 172203 nodes - 320 ms
* Parse using XmlDocument no validation - length 1619608 - 1052 ms
* Parse using XmlDocument with XmlValidatingReader: length 1619608 - 1862 ms

You can disable validation when using the XmlDocument object by passing an XmlTextReader instead of the XmlValidatingTextReader:
  </>}
/>
```js
XmlDocument report = new XmlDocument();
 XmlTextReader tr = new XmlTextReader(Configuration.LastReportPath);
 report.Load(tr);
```

To perform validation:

```js
XmlDocument report = new XmlDocument();
 XmlTextReader tr = new XmlTextReader(Configuration.LastReportPath);
 XmlValidatingReader reader = new XmlValidatingReader(tr);
 report.Load(reader);
```

The XSD should be distributed in the same directory as the XML file and a relative path should be used:

```xml
<Report> <Report xmlns="LinkAuditorReport.xsd">
 ... </Report>
```
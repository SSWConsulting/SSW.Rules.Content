name: CheckExtensionCase

on:
  pull_request:
    branches: [ main ]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v2
          
      - id: file_changes
        uses: trilom/file-changes-action@v1.2.3

      - name: test
        run: |
          FILES=${{steps.file_changes.outputs.files_added}}

          if [ ${#FILES} -ge 3 ];
          then
              IFS=", " read -a myarray <<< $FILES

              for filename in "${myarray[@]}" 
              do
                  pureFile=$(echo $filename | sed 's/"//g' | sed 's/]//g' | grep -o '...$')
                  if [ $pureFile == "GIF" ] || [ $pureFile == "SVG" ];
                  then
                      echo "Use lowercase file extensions for GIF's and SVG's"
                      exit 1
                  fi
              done
          fi
